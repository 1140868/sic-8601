<h1>Registar Fabrica</h1>
<hr><br>
<div class="col-md-6 col-md-offset-3">
  <form name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>

    <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !nome.valid }">
      <label for="nome">Nome da Fabrica
        <br>
      </label>
      <input type="text" class="form-control" name="nome" [(ngModel)]="model.nome" #nome="ngModel" required />
      <div *ngIf="f.submitted && !nome.valid" class="helpblock">O nome é obrigatório</div>
    </div>

    <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !morada.valid }">
      <label for="morada">Morada
        <br>
      </label>
      <input type="text" class="form-control" name="morada" [(ngModel)]="model.morada" #morada="ngModel" required />
      <div *ngIf="f.submitted && !morada.valid" class="helpblock">A morada é obrigatória</div>
    </div>
   
    <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !latitude.valid }">
      <label for="latitude">
        <br>Latitude
        <br>
      </label>
      <input type="text" class="form-control" name="latitude" [(ngModel)]="model.latitude" #latitude="ngModel" required />
      <div *ngIf="f.submitted && !latitude.valid" class="helpblock">A Latitude é obrigatória</div>
    </div>

    <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !longitude.valid }">
      <label for="longitude">
        <br>Longitude
        <br>
      </label>
      <input type="text" class="form-control" name="longitude" [(ngModel)]="model.longitude" #longitude="ngModel"
        required />
      <div *ngIf="f.submitted && !longitude.valid" class="helpblock">A Longitudo é obrigatória</div>
    </div>

    <div class="form-group">
      <br>
      <button [disabled]="loading" class="btn btnprimary">Registar</button>
      <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYo
           KCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5
           mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2
           LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG
           4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAA
           AsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJ
           Z7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYum
           CYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAE
           AAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpF
           KSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojE
           MBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZ
           nFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAAL
           AAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAi
           B1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </div>
    <div *ngIf="error" class="alert alert-danger">{{error}}</div>
    <br> <br>
  </form>
</div>